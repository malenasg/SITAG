{% extends 'base.html' %}
{% load static %}

{% block title %}Editar trabajo | SITAG{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'trabajos/css/editar_trabajo.css' %}">

<div class="page-wrapper">
  <div class="form-card">

    <h1>Editar trabajo</h1>

    <form method="post">
      {% csrf_token %}

      <!-- ================= DATOS DEL TRABAJO ================= -->
      <div class="section">
        <h3>Datos del trabajo</h3>

        <div class="grid-2">

          <div class="field">
            {{ trabajo_form.cliente.label_tag }}
            {{ trabajo_form.cliente }}
          </div>

          <div class="field">
            {{ trabajo_form.responsable.label_tag }}
            {{ trabajo_form.responsable }}
          </div>

          <div class="field">
            {{ trabajo_form.tipo_trabajo.label_tag }}
            {{ trabajo_form.tipo_trabajo }}
          </div>

          <div class="field">
            {{ trabajo_form.estado.label_tag }}
            {{ trabajo_form.estado }}
          </div>

          <div class="field field-full">
            {{ trabajo_form.descripcion.label_tag }}
            {{ trabajo_form.descripcion }}
          </div>

          <div class="field">
            {{ trabajo_form.fecha_inicio.label_tag }}
            {{ trabajo_form.fecha_inicio }}
          </div>

          <div class="field">
            {{ trabajo_form.fecha_fin.label_tag }}
            {{ trabajo_form.fecha_fin }}
          </div>

        </div>
      </div>

      <!-- ================= UBICACIÓN ================= -->
      <div class="section">
        <h3>Ubicación</h3>

        <div class="grid-2">

          <!-- DEPARTAMENTO -->
          <div class="field">
            <label for="id_departamento">Departamento</label>
            <select
              name="departamento"
              id="id_departamento"
              data-valor="{{ ubicacion_form.instance.departamento|default_if_none:'' }}"
            >
              <option value="">Seleccione un departamento</option>
            </select>
          </div>

          <!-- LOCALIDAD -->
          <div class="field">
            <label for="id_localidad">Localidad</label>
            <select
              name="localidad"
              id="id_localidad"
              data-valor="{{ ubicacion_form.instance.localidad|default_if_none:'' }}"
            >
              <option value="">Seleccione una localidad</option>
            </select>
          </div>

          <div class="field">
            {{ ubicacion_form.barrio.label_tag }}
            {{ ubicacion_form.barrio }}
          </div>

          <div class="field">
            {{ ubicacion_form.calle.label_tag }}
            {{ ubicacion_form.calle }}
          </div>

          <div class="field">
            {{ ubicacion_form.numero.label_tag }}
            {{ ubicacion_form.numero }}
          </div>

          <div class="field field-full">
            {{ ubicacion_form.nomenclatura_catastral.label_tag }}
            {{ ubicacion_form.nomenclatura_catastral }}
          </div>

          <div class="field field-full">
            {{ ubicacion_form.coordenadas.label_tag }}
            {{ ubicacion_form.coordenadas }}
          </div>

        </div>
      </div>

      <!-- ================= BOTONES ================= -->
      <button type="submit" class="btn-save">
        Guardar cambios
      </button>

      <a href="{% url 'trabajos:lista_trabajos' %}" class="btn-back">
        Volver
      </a>

    </form>

  </div>
</div>

<script src="{% static 'trabajos/js/forms_trabajos.js' %}"></script>
{% endblock %}
